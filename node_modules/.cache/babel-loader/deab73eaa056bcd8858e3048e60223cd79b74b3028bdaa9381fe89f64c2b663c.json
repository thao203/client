{"ast":null,"code":"import Button from'react-bootstrap/Button';import Modal from'react-bootstrap/Modal';import Form from'react-bootstrap/Form';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import request from'../../config/Connect';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ModalAddLocation(_ref){let{showModalAddLocation,setShowModalAddLocation,onAddSuccess}=_ref;const[mavitri,setMavitri]=useState('');const[coso,setCoso]=useState('');const[soke,setSoke]=useState('');const handleClose=()=>{setShowModalAddLocation(false);setMavitri('');setCoso('');setSoke('');};const toastOptions={position:\"top-right\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined};const handleAddLocation=async()=>{try{// Kiểm tra bắt buộc nhập đủ thông tin\nif(!mavitri||!coso||!soke){toast.error('Vui lòng nhập đầy đủ mã vị trí, cơ sở và số kệ!',toastOptions);return;}// Kiểm tra mã vị trí không chứa dấu cách\nif(mavitri.includes(' ')){toast.error('Mã vị trí không được chứa dấu cách!',toastOptions);return;}const res=await request.post('/api/addLocation',{mavitri,coso,soke});toast.success(res.data.message||'Thêm vị trí thành công!',{...toastOptions,onClose:()=>{handleClose();onAddSuccess();// Gọi callback để refresh danh sách\n}});}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Có lỗi xảy ra khi thêm vị trí!',toastOptions);console.error('Error:',error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Modal,{show:showModalAddLocation,onHide:handleClose,size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Modal.Title,{style:{fontSize:'1.5rem',fontWeight:'bold'},children:\"Th\\xEAm V\\u1ECB Tr\\xED\"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"p-4\",children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Row,{className:\"g-3\",children:[/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formMavitri\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"M\\xE3 V\\u1ECB Tr\\xED\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Nh\\u1EADp m\\xE3 v\\u1ECB tr\\xED\",value:mavitri,onChange:e=>setMavitri(e.target.value),className:\"shadow-sm\"})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formCoso\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"C\\u01A1 S\\u1EDF\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Nh\\u1EADp c\\u01A1 s\\u1EDF\",value:coso,onChange:e=>setCoso(e.target.value),className:\"shadow-sm\"})]})}),/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formSoke\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"S\\u1ED1 K\\u1EC7\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Nh\\u1EADp s\\u1ED1 k\\u1EC7\",value:soke,onChange:e=>setSoke(e.target.value),className:\"shadow-sm\"})]})})]})})}),/*#__PURE__*/_jsxs(Modal.Footer,{className:\"justify-content-between\",children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,className:\"px-4\",children:\"\\u0110\\xF3ng\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleAddLocation,className:\"px-4\",children:\"Th\\xEAm M\\u1EDBi\"})]})]}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default ModalAddLocation;","map":{"version":3,"names":["Button","Modal","Form","Row","Col","request","ToastContainer","toast","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ModalAddLocation","_ref","showModalAddLocation","setShowModalAddLocation","onAddSuccess","mavitri","setMavitri","coso","setCoso","soke","setSoke","handleClose","toastOptions","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","handleAddLocation","error","includes","res","post","success","data","message","onClose","_error$response","_error$response$data","response","console","children","show","onHide","size","Header","closeButton","className","Title","style","fontSize","fontWeight","Body","md","Group","controlId","Label","Control","type","placeholder","value","onChange","e","target","Footer","variant","onClick"],"sources":["E:/Documents/Hoc_Tap/LATN/client/src/Modal/Location/ModalAddLocation.js"],"sourcesContent":["import Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport request from '../../config/Connect';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useState } from 'react';\r\n\r\nfunction ModalAddLocation({ showModalAddLocation, setShowModalAddLocation, onAddSuccess }) {\r\n    const [mavitri, setMavitri] = useState('');\r\n    const [coso, setCoso] = useState('');\r\n    const [soke, setSoke] = useState('');\r\n\r\n    const handleClose = () => {\r\n        setShowModalAddLocation(false);\r\n        setMavitri('');\r\n        setCoso('');\r\n        setSoke('');\r\n    };\r\n\r\n    const toastOptions = {\r\n        position: \"top-right\",\r\n        autoClose: 1000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    };\r\n\r\n    const handleAddLocation = async () => {\r\n        try {\r\n            // Kiểm tra bắt buộc nhập đủ thông tin\r\n            if (!mavitri || !coso || !soke) {\r\n                toast.error('Vui lòng nhập đầy đủ mã vị trí, cơ sở và số kệ!', toastOptions);\r\n                return;\r\n            }\r\n\r\n            // Kiểm tra mã vị trí không chứa dấu cách\r\n            if (mavitri.includes(' ')) {\r\n                toast.error('Mã vị trí không được chứa dấu cách!', toastOptions);\r\n                return;\r\n            }\r\n\r\n            const res = await request.post('/api/addLocation', {\r\n                mavitri,\r\n                coso,\r\n                soke,\r\n            });\r\n\r\n            toast.success(res.data.message || 'Thêm vị trí thành công!', {\r\n                ...toastOptions,\r\n                onClose: () => {\r\n                    handleClose();\r\n                    onAddSuccess(); // Gọi callback để refresh danh sách\r\n                },\r\n            });\r\n        } catch (error) {\r\n            toast.error(error.response?.data?.message || 'Có lỗi xảy ra khi thêm vị trí!', toastOptions);\r\n            console.error('Error:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Modal show={showModalAddLocation} onHide={handleClose} size=\"lg\">\r\n                <Modal.Header closeButton className=\"justify-content-center\">\r\n                    <Modal.Title style={{ fontSize: '1.5rem', fontWeight: 'bold' }}>\r\n                        Thêm Vị Trí\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body className=\"p-4\">\r\n                    <Form>\r\n                        <Row className=\"g-3\">\r\n                            <Col md={4}>\r\n                                <Form.Group controlId=\"formMavitri\">\r\n                                    <Form.Label>Mã Vị Trí</Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        placeholder=\"Nhập mã vị trí\"\r\n                                        value={mavitri}\r\n                                        onChange={(e) => setMavitri(e.target.value)}\r\n                                        className=\"shadow-sm\"\r\n                                    />\r\n                                </Form.Group>\r\n                            </Col>\r\n                            <Col md={4}>\r\n                                <Form.Group controlId=\"formCoso\">\r\n                                    <Form.Label>Cơ Sở</Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        placeholder=\"Nhập cơ sở\"\r\n                                        value={coso}\r\n                                        onChange={(e) => setCoso(e.target.value)}\r\n                                        className=\"shadow-sm\"\r\n                                    />\r\n                                </Form.Group>\r\n                            </Col>\r\n                            <Col md={4}>\r\n                                <Form.Group controlId=\"formSoke\">\r\n                                    <Form.Label>Số Kệ</Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        placeholder=\"Nhập số kệ\"\r\n                                        value={soke}\r\n                                        onChange={(e) => setSoke(e.target.value)}\r\n                                        className=\"shadow-sm\"\r\n                                    />\r\n                                </Form.Group>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer className=\"justify-content-between\">\r\n                    <Button variant=\"secondary\" onClick={handleClose} className=\"px-4\">\r\n                        Đóng\r\n                    </Button>\r\n                    <Button variant=\"primary\" onClick={handleAddLocation} className=\"px-4\">\r\n                        Thêm Mới\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n            <ToastContainer />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ModalAddLocation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}