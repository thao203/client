{"ast":null,"code":"import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import ModalRequestBook from'../Modal/ModalRequestBook';import ModalCart from'../Modal/ModalCart';import request from'../../../../../config/Connect';import{Card,CardContent,CardMedia,Typography,Button,Box,Pagination,PaginationItem,IconButton,Grow,Fade,Slide}from'@mui/material';import{styled}from'@mui/system';import{keyframes}from'@emotion/react';// Thêm import keyframes từ @emotion/react\nimport ShoppingCartIcon from'@mui/icons-material/ShoppingCart';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ITEMS_PER_PAGE=16;const pulse=keyframes`\n    0% { transform: scale(1); }\n    50% { transform: scale(1.02); }\n    100% { transform: scale(1); }\n`;const float=keyframes`\n    0% { transform: translateY(0); }\n    50% { transform: translateY(-8px); }\n    100% { transform: translateY(0); }\n`;function MainBooks(_ref){var _currentBooks$find;let{isMenuOpen,searchQuery='',sortOption=''}=_ref;const[showRequest,setShowRequest]=useState(false);const[showCart,setShowCart]=useState(false);const[selectedMasach,setSelectedMasach]=useState('');const[selectedTensach,setSelectedTensach]=useState('');const[selectedVitri,setSelectedVitri]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[dataBooks,setDataBooks]=useState([]);// Thêm state cho dataBooks\nconst[filteredBooks,setFilteredBooks]=useState([]);const[hoveredCard,setHoveredCard]=useState(null);const navigate=useNavigate();// Logic gọi API\nuseEffect(()=>{const fetchSearchResults=async()=>{try{if(searchQuery.trim()===''){const res=await request.get('/api/GetBooks');setDataBooks(res.data);setCurrentPage(1);return;}const res=await request.get('/api/SearchProduct',{params:{tensach:searchQuery}});setDataBooks(res.data);setCurrentPage(1);}catch(error){var _error$response,_error$response2;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===400||((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===404){setDataBooks([]);}else{setDataBooks([]);}}};fetchSearchResults();},[searchQuery]);// Lọc và sắp xếp sách\nuseEffect(()=>{const filtered=filterBooks(searchQuery);const sorted=sortBooks(filtered);setFilteredBooks(sorted);setCurrentPage(1);},[dataBooks,searchQuery,sortOption]);const filterBooks=query=>{if(!query)return dataBooks;const normalizedQuery=query.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g,'');return dataBooks.filter(book=>{const normalizedTensach=book.tensach.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g,'');const normalizedMasach=book.masach.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g,'');const normalizedTacgia=book.tacgia.toLowerCase().normalize('NFD').replace(/[\\u0300-\\u036f]/g,'');return normalizedTensach.includes(normalizedQuery)||normalizedMasach.includes(normalizedQuery)||normalizedTacgia.includes(normalizedQuery);});};const sortBooks=books=>{let sortedBooks=[...books];switch(sortOption){case'newest':sortedBooks.sort((a,b)=>new Date(b.ngaycapnhat)-new Date(a.ngaycapnhat));break;case'oldest':sortedBooks.sort((a,b)=>new Date(a.ngaycapnhat)-new Date(b.ngaycapnhat));break;case'az':sortedBooks.sort((a,b)=>a.tensach.localeCompare(b.tensach));break;case'za':sortedBooks.sort((a,b)=>b.tensach.localeCompare(a.tensach));break;case'mostBorrowed':sortedBooks.sort((a,b)=>{const borrowA=a.vitri.reduce((sum,v)=>sum+v.soluongmuon,0);const borrowB=b.vitri.reduce((sum,v)=>sum+v.soluongmuon,0);return borrowB-borrowA;});break;default:break;}return sortedBooks;};useEffect(()=>{const filtered=filterBooks(searchQuery);const sorted=sortBooks(filtered);setFilteredBooks(sorted);setCurrentPage(1);},[dataBooks,searchQuery,sortOption]);const totalPages=Math.ceil(filteredBooks.length/ITEMS_PER_PAGE);const startIndex=(currentPage-1)*ITEMS_PER_PAGE;const endIndex=startIndex+ITEMS_PER_PAGE;const currentBooks=filteredBooks.slice(startIndex,endIndex);const handleShowRequest=(masach,tensach,vitri)=>{setShowRequest(true);setSelectedMasach(masach);setSelectedTensach(tensach);setSelectedVitri(vitri||[]);};const handleShowCart=(masach,tensach,vitri)=>{setShowCart(true);setSelectedMasach(masach);setSelectedTensach(tensach);setSelectedVitri(vitri||[]);};const handleViewDetail=masach=>{navigate(`/detailbook/${masach}`);};const handlePageChange=(event,value)=>{setCurrentPage(value);};const truncateLocation=vitri=>{if(!vitri||vitri.length===0)return'';const fullText=vitri.map(v=>`${v.mavitri} (${v.soluong-v.soluongmuon})`).join(', ');const maxLength=50;return fullText.length<=maxLength?fullText:`${fullText.substring(0,maxLength-3)}...`;};const handleAddToCart=cartItem=>{const cart=JSON.parse(localStorage.getItem('cart'))||[];const existingItem=cart.find(item=>item.masach===cartItem.masach&&item.mavitri===cartItem.mavitri);if(existingItem){existingItem.soluong+=cartItem.quantity;}else{cart.push({masach:cartItem.masach,tensach:cartItem.tensach,mavitri:cartItem.mavitri,ngaymuon:cartItem.ngaymuon,soluong:cartItem.quantity,img:cartItem.img});}localStorage.setItem('cart',JSON.stringify(cart));};const StyledCard=styled(Card)(_ref2=>{let{theme}=_ref2;return{boxShadow:'0 6px 25px rgba(0, 0, 0, 0.15)',borderRadius:'16px',overflow:'hidden',background:'linear-gradient(145deg, #ffffff, #eef2f7)',transition:'all 0.4s ease',position:'relative','&:hover':{transform:'translateY(-10px) scale(1.03)',boxShadow:'0 12px 40px rgba(0, 0, 0, 0.25)',background:'linear-gradient(145deg, #f0faff, #e6f0fa)'},display:'flex',flexDirection:'column'};});const StyledButton=styled(Button)(_ref3=>{let{theme}=_ref3;return{borderRadius:'10px',textTransform:'none',fontWeight:'bold',padding:'6px 8px',transition:'all 0.3s ease',background:'linear-gradient(45deg, #1e90ff, #00ced1)',color:'#fff','&:hover':{transform:'translateY(-4px)',boxShadow:'0 6px 20px rgba(30, 144, 255, 0.5)',background:'linear-gradient(45deg, #00ced1, #1e90ff)'},'&:active':{transform:'translateY(0)',animation:`${pulse} 0.3s ease`}};});const CartButton=styled(IconButton)(_ref4=>{let{theme}=_ref4;return{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',background:'linear-gradient(45deg, #ff4500, #ff8c00)',color:'#fff',padding:'12px',zIndex:10,transition:'all 0.3s ease','&:hover':{transform:'translate(-50%, -50%) scale(1.1)',boxShadow:'0 6px 20px rgba(255, 69, 0, 0.5)',background:'linear-gradient(45deg, #ff8c00, #ff4500)'},'&:active':{transform:'translate(-50%, -50%)'}};});const StyledPaginationItem=styled(PaginationItem)(_ref5=>{let{theme}=_ref5;return{'&.Mui-selected':{background:'linear-gradient(45deg, #1e90ff, #00ced1)',color:'#fff',fontWeight:'bold',animation:`${float} 2s infinite ease-in-out`},'&:hover':{backgroundColor:'#1e90ff',color:'#fff',transform:'scale(1.15)',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.2)'}};});const StyledCardMedia=styled(CardMedia)(_ref6=>{let{theme}=_ref6;return{height:250,objectFit:'contain',backgroundColor:'#f8fafc',padding:'10px',borderBottom:'1px solid #e0e7ff',transition:'transform 0.4s ease, opacity 0.3s ease',[theme.breakpoints.down('sm')]:{height:200},[theme.breakpoints.down('xs')]:{height:150}};});const StyledTypography=styled(Typography)({transition:'opacity 0.3s ease'});return/*#__PURE__*/_jsxs(Box,{sx:{padding:{xs:1,sm:2,md:3},backgroundColor:'#f5f5f5',minHeight:'100vh'},children:[/*#__PURE__*/_jsx(Slide,{direction:\"up\",in:true,timeout:800,children:/*#__PURE__*/_jsx(Box,{sx:{display:'grid',gridTemplateColumns:{xs:'repeat(1, minmax(250px, 1fr))',sm:'repeat(2, minmax(250px, 1fr))',md:`repeat(${isMenuOpen?3:4}, minmax(250px, 1fr))`},gap:{xs:1,sm:2,md:3}},children:currentBooks.map((item,index)=>{const isHovered=hoveredCard===item.masach;return/*#__PURE__*/_jsx(Grow,{in:true,timeout:500+index*150,style:{transformOrigin:'bottom center'},children:/*#__PURE__*/_jsxs(StyledCard,{onMouseEnter:()=>setHoveredCard(item.masach),onMouseLeave:()=>setHoveredCard(null),children:[/*#__PURE__*/_jsx(StyledCardMedia,{component:\"img\",image:item.img,alt:item.tensach,sx:{opacity:isHovered?0.3:1}}),/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1,padding:{xs:1,sm:2}},children:[/*#__PURE__*/_jsx(StyledTypography,{variant:\"h6\",component:\"div\",gutterBottom:true,sx:{fontWeight:'bold',color:'#1e90ff',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap',fontSize:{xs:'1rem',sm:'1.25rem'},opacity:isHovered?0.3:1},children:item.tensach}),/*#__PURE__*/_jsxs(StyledTypography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:0.5,fontSize:{xs:'0.75rem',sm:'0.875rem'},opacity:isHovered?0.3:1},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xE3 S\\xE1ch:\"}),\" \",item.masach]}),/*#__PURE__*/_jsxs(StyledTypography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:0.5,fontSize:{xs:'0.75rem',sm:'0.875rem'},opacity:isHovered?0.3:1},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\xE1c Gi\\u1EA3:\"}),\" \",item.tacgia]}),/*#__PURE__*/_jsxs(StyledTypography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:0.5,fontSize:{xs:'0.75rem',sm:'0.875rem'},opacity:isHovered?0.3:1},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nh\\xE0 xu\\u1EA5t b\\u1EA3n:\"}),\" \",item.nhaxuatban]}),/*#__PURE__*/_jsxs(StyledTypography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:0.5,fontSize:{xs:'0.75rem',sm:'0.875rem'},opacity:isHovered?0.3:1},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\u1ED5ng s\\u1ED1 s\\xE1ch:\"}),\" \",item.Tongsoluong]}),item.vitri&&item.vitri.length>0&&/*#__PURE__*/_jsxs(StyledTypography,{variant:\"body2\",color:\"text.secondary\",title:item.vitri.map(v=>`${v.mavitri} (${v.soluong-v.soluongmuon})`).join(', '),sx:{mb:0.5,overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap',fontSize:{xs:'0.75rem',sm:'0.875rem'},opacity:isHovered?0.3:1},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"V\\u1ECB tr\\xED:\"}),\" \",truncateLocation(item.vitri)]}),/*#__PURE__*/_jsxs(Box,{mt:2,display:\"flex\",justifyContent:\"space-between\",sx:{flexDirection:{xs:'column',sm:'row'},gap:1},children:[/*#__PURE__*/_jsx(StyledButton,{size:\"small\",color:\"info\",onClick:()=>handleViewDetail(item.masach),sx:{fontSize:{xs:'0.7rem',sm:'0.875rem'}},children:\"Xem Chi Ti\\u1EBFt\"}),/*#__PURE__*/_jsx(StyledButton,{size:\"small\",variant:\"contained\",color:\"primary\",onClick:()=>handleShowRequest(item.masach,item.tensach,item.vitri),sx:{fontSize:{xs:'0.7rem',sm:'0.875rem'}},children:\"G\\u1EEDi Y\\xEAu C\\u1EA7u\"})]})]}),isHovered&&/*#__PURE__*/_jsx(Fade,{in:isHovered,timeout:300,children:/*#__PURE__*/_jsx(CartButton,{onClick:()=>handleShowCart(item.masach,item.tensach,item.vitri),children:/*#__PURE__*/_jsx(ShoppingCartIcon,{fontSize:\"large\"})})})]})},item.masach);})})}),totalPages>1&&/*#__PURE__*/_jsx(Slide,{direction:\"up\",in:true,timeout:1200,children:/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',mt:4,mb:2},children:/*#__PURE__*/_jsx(Pagination,{count:totalPages,page:currentPage,onChange:handlePageChange,color:\"primary\",showFirstButton:true,showLastButton:true,renderItem:item=>/*#__PURE__*/_jsx(StyledPaginationItem,{...item}),sx:{'& .MuiPagination-ul':{background:'#fff',borderRadius:'12px',padding:'8px',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.1)'}}})})}),/*#__PURE__*/_jsx(ModalRequestBook,{show:showRequest,setShow:setShowRequest,masach:selectedMasach,tensach:selectedTensach,vitri:selectedVitri}),/*#__PURE__*/_jsx(ModalCart,{show:showCart,setShow:setShowCart,masach:selectedMasach,tensach:selectedTensach,vitri:selectedVitri,img:((_currentBooks$find=currentBooks.find(book=>book.masach===selectedMasach))===null||_currentBooks$find===void 0?void 0:_currentBooks$find.img)||'',onAddToCart:handleAddToCart})]});}export default MainBooks;","map":{"version":3,"names":["useState","useEffect","useNavigate","ModalRequestBook","ModalCart","request","Card","CardContent","CardMedia","Typography","Button","Box","Pagination","PaginationItem","IconButton","Grow","Fade","Slide","styled","keyframes","ShoppingCartIcon","jsx","_jsx","jsxs","_jsxs","ITEMS_PER_PAGE","pulse","float","MainBooks","_ref","_currentBooks$find","isMenuOpen","searchQuery","sortOption","showRequest","setShowRequest","showCart","setShowCart","selectedMasach","setSelectedMasach","selectedTensach","setSelectedTensach","selectedVitri","setSelectedVitri","currentPage","setCurrentPage","dataBooks","setDataBooks","filteredBooks","setFilteredBooks","hoveredCard","setHoveredCard","navigate","fetchSearchResults","trim","res","get","data","params","tensach","error","_error$response","_error$response2","response","status","filtered","filterBooks","sorted","sortBooks","query","normalizedQuery","toLowerCase","normalize","replace","filter","book","normalizedTensach","normalizedMasach","masach","normalizedTacgia","tacgia","includes","books","sortedBooks","sort","a","b","Date","ngaycapnhat","localeCompare","borrowA","vitri","reduce","sum","v","soluongmuon","borrowB","totalPages","Math","ceil","length","startIndex","endIndex","currentBooks","slice","handleShowRequest","handleShowCart","handleViewDetail","handlePageChange","event","value","truncateLocation","fullText","map","mavitri","soluong","join","maxLength","substring","handleAddToCart","cartItem","cart","JSON","parse","localStorage","getItem","existingItem","find","item","quantity","push","ngaymuon","img","setItem","stringify","StyledCard","_ref2","theme","boxShadow","borderRadius","overflow","background","transition","position","transform","display","flexDirection","StyledButton","_ref3","textTransform","fontWeight","padding","color","animation","CartButton","_ref4","top","left","zIndex","StyledPaginationItem","_ref5","backgroundColor","StyledCardMedia","_ref6","height","objectFit","borderBottom","breakpoints","down","StyledTypography","sx","xs","sm","md","minHeight","children","direction","in","timeout","gridTemplateColumns","gap","index","isHovered","style","transformOrigin","onMouseEnter","onMouseLeave","component","image","alt","opacity","flexGrow","variant","gutterBottom","textOverflow","whiteSpace","fontSize","mb","nhaxuatban","Tongsoluong","title","mt","justifyContent","size","onClick","count","page","onChange","showFirstButton","showLastButton","renderItem","show","setShow","onAddToCart"],"sources":["E:/Documents/Hoc_Tap/LATN/client/src/Page/HomePage/Layouts/Main/ListBook/Mainbook.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ModalRequestBook from '../Modal/ModalRequestBook';\r\nimport ModalCart from '../Modal/ModalCart';\r\nimport request  from '../../../../../config/Connect';\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    CardMedia,\r\n    Typography,\r\n    Button,\r\n    Box,\r\n    Pagination,\r\n    PaginationItem,\r\n    IconButton, Grow, Fade, Slide,\r\n} from '@mui/material';\r\nimport { styled } from '@mui/system';\r\nimport { keyframes } from '@emotion/react'; // Thêm import keyframes từ @emotion/react\r\nimport ShoppingCartIcon from '@mui/icons-material/ShoppingCart';\r\n\r\nconst ITEMS_PER_PAGE = 16;\r\n\r\nconst pulse = keyframes`\r\n    0% { transform: scale(1); }\r\n    50% { transform: scale(1.02); }\r\n    100% { transform: scale(1); }\r\n`;\r\n\r\nconst float = keyframes`\r\n    0% { transform: translateY(0); }\r\n    50% { transform: translateY(-8px); }\r\n    100% { transform: translateY(0); }\r\n`;\r\n\r\nfunction MainBooks({ isMenuOpen, searchQuery = '', sortOption = '' }) {\r\n    const [showRequest, setShowRequest] = useState(false);\r\n    const [showCart, setShowCart] = useState(false);\r\n    const [selectedMasach, setSelectedMasach] = useState('');\r\n    const [selectedTensach, setSelectedTensach] = useState('');\r\n    const [selectedVitri, setSelectedVitri] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [dataBooks, setDataBooks] = useState([]); // Thêm state cho dataBooks\r\n    const [filteredBooks, setFilteredBooks] = useState([]);\r\n    const [hoveredCard, setHoveredCard] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n    // Logic gọi API\r\n    useEffect(() => {\r\n        const fetchSearchResults = async () => {\r\n            try {\r\n                if (searchQuery.trim() === '') {\r\n                    const res = await request.get('/api/GetBooks');\r\n                    setDataBooks(res.data);\r\n                    setCurrentPage(1);\r\n                    return;\r\n                }\r\n\r\n                const res = await request.get('/api/SearchProduct', {\r\n                    params: { tensach: searchQuery },\r\n                });\r\n\r\n                setDataBooks(res.data);\r\n                setCurrentPage(1);\r\n            } catch (error) {\r\n                if (error.response?.status === 400 || error.response?.status === 404) {\r\n                    setDataBooks([]);\r\n                } else {\r\n                    setDataBooks([]);\r\n                }\r\n            }\r\n        };\r\n\r\n        fetchSearchResults();\r\n    }, [searchQuery]);\r\n\r\n    // Lọc và sắp xếp sách\r\n    useEffect(() => {\r\n        const filtered = filterBooks(searchQuery);\r\n        const sorted = sortBooks(filtered);\r\n        setFilteredBooks(sorted);\r\n        setCurrentPage(1);\r\n    }, [dataBooks, searchQuery, sortOption]);\r\n\r\n    const filterBooks = (query) => {\r\n        if (!query) return dataBooks;\r\n\r\n        const normalizedQuery = query\r\n            .toLowerCase()\r\n            .normalize('NFD')\r\n            .replace(/[\\u0300-\\u036f]/g, '');\r\n\r\n        return dataBooks.filter((book) => {\r\n            const normalizedTensach = book.tensach\r\n                .toLowerCase()\r\n                .normalize('NFD')\r\n                .replace(/[\\u0300-\\u036f]/g, '');\r\n            const normalizedMasach = book.masach\r\n                .toLowerCase()\r\n                .normalize('NFD')\r\n                .replace(/[\\u0300-\\u036f]/g, '');\r\n            const normalizedTacgia = book.tacgia\r\n                .toLowerCase()\r\n                .normalize('NFD')\r\n                .replace(/[\\u0300-\\u036f]/g, '');\r\n\r\n            return (\r\n                normalizedTensach.includes(normalizedQuery) ||\r\n                normalizedMasach.includes(normalizedQuery) ||\r\n                normalizedTacgia.includes(normalizedQuery)\r\n            );\r\n        });\r\n    };\r\n\r\n    const sortBooks = (books) => {\r\n        let sortedBooks = [...books];\r\n        switch (sortOption) {\r\n            case 'newest':\r\n                sortedBooks.sort((a, b) => new Date(b.ngaycapnhat) - new Date(a.ngaycapnhat));\r\n                break;\r\n            case 'oldest':\r\n                sortedBooks.sort((a, b) => new Date(a.ngaycapnhat) - new Date(b.ngaycapnhat));\r\n                break;\r\n            case 'az':\r\n                sortedBooks.sort((a, b) => a.tensach.localeCompare(b.tensach));\r\n                break;\r\n            case 'za':\r\n                sortedBooks.sort((a, b) => b.tensach.localeCompare(a.tensach));\r\n                break;\r\n            case 'mostBorrowed':\r\n                sortedBooks.sort((a, b) => {\r\n                    const borrowA = a.vitri.reduce((sum, v) => sum + v.soluongmuon, 0);\r\n                    const borrowB = b.vitri.reduce((sum, v) => sum + v.soluongmuon, 0);\r\n                    return borrowB - borrowA;\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return sortedBooks;\r\n    };\r\n\r\n    useEffect(() => {\r\n        const filtered = filterBooks(searchQuery);\r\n        const sorted = sortBooks(filtered);\r\n        setFilteredBooks(sorted);\r\n        setCurrentPage(1);\r\n    }, [dataBooks, searchQuery, sortOption]);\r\n\r\n    const totalPages = Math.ceil(filteredBooks.length / ITEMS_PER_PAGE);\r\n    const startIndex = (currentPage - 1) * ITEMS_PER_PAGE;\r\n    const endIndex = startIndex + ITEMS_PER_PAGE;\r\n    const currentBooks = filteredBooks.slice(startIndex, endIndex);\r\n\r\n    const handleShowRequest = (masach, tensach, vitri) => {\r\n        setShowRequest(true);\r\n        setSelectedMasach(masach);\r\n        setSelectedTensach(tensach);\r\n        setSelectedVitri(vitri || []);\r\n    };\r\n\r\n    const handleShowCart = (masach, tensach, vitri) => {\r\n        setShowCart(true);\r\n        setSelectedMasach(masach);\r\n        setSelectedTensach(tensach);\r\n        setSelectedVitri(vitri || []);\r\n    };\r\n\r\n    const handleViewDetail = (masach) => {\r\n        navigate(`/detailbook/${masach}`);\r\n    };\r\n\r\n    const handlePageChange = (event, value) => {\r\n        setCurrentPage(value);\r\n    };\r\n\r\n    const truncateLocation = (vitri) => {\r\n        if (!vitri || vitri.length === 0) return '';\r\n        const fullText = vitri.map((v) => `${v.mavitri} (${v.soluong - v.soluongmuon})`).join(', ');\r\n        const maxLength = 50;\r\n        return fullText.length <= maxLength ? fullText : `${fullText.substring(0, maxLength - 3)}...`;\r\n    };\r\n\r\n    const handleAddToCart = (cartItem) => {\r\n        const cart = JSON.parse(localStorage.getItem('cart')) || [];\r\n        const existingItem = cart.find(\r\n            (item) => item.masach === cartItem.masach && item.mavitri === cartItem.mavitri\r\n        );\r\n\r\n        if (existingItem) {\r\n            existingItem.soluong += cartItem.quantity;\r\n        } else {\r\n            cart.push({\r\n                masach: cartItem.masach,\r\n                tensach: cartItem.tensach,\r\n                mavitri: cartItem.mavitri,\r\n                ngaymuon: cartItem.ngaymuon,\r\n                soluong: cartItem.quantity,\r\n                img: cartItem.img,\r\n            });\r\n        }\r\n\r\n        localStorage.setItem('cart', JSON.stringify(cart));\r\n    };\r\n\r\n    const StyledCard = styled(Card)(({ theme }) => ({\r\n        boxShadow: '0 6px 25px rgba(0, 0, 0, 0.15)',\r\n        borderRadius: '16px',\r\n        overflow: 'hidden',\r\n        background: 'linear-gradient(145deg, #ffffff, #eef2f7)',\r\n        transition: 'all 0.4s ease',\r\n        position: 'relative',\r\n        '&:hover': {\r\n            transform: 'translateY(-10px) scale(1.03)',\r\n            boxShadow: '0 12px 40px rgba(0, 0, 0, 0.25)',\r\n            background: 'linear-gradient(145deg, #f0faff, #e6f0fa)',\r\n        },\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    }));\r\n\r\n    const StyledButton = styled(Button)(({ theme }) => ({\r\n        borderRadius: '10px',\r\n        textTransform: 'none',\r\n        fontWeight: 'bold',\r\n        padding: '6px 8px',\r\n        transition: 'all 0.3s ease',\r\n        background: 'linear-gradient(45deg, #1e90ff, #00ced1)',\r\n        color: '#fff',\r\n        '&:hover': {\r\n            transform: 'translateY(-4px)',\r\n            boxShadow: '0 6px 20px rgba(30, 144, 255, 0.5)',\r\n            background: 'linear-gradient(45deg, #00ced1, #1e90ff)',\r\n        },\r\n        '&:active': {\r\n            transform: 'translateY(0)',\r\n            animation: `${pulse} 0.3s ease`,\r\n        },\r\n    }));\r\n\r\n    const CartButton = styled(IconButton)(({ theme }) => ({\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        background: 'linear-gradient(45deg, #ff4500, #ff8c00)',\r\n        color: '#fff',\r\n        padding: '12px',\r\n        zIndex: 10,\r\n        transition: 'all 0.3s ease',\r\n        '&:hover': {\r\n            transform: 'translate(-50%, -50%) scale(1.1)',\r\n            boxShadow: '0 6px 20px rgba(255, 69, 0, 0.5)',\r\n            background: 'linear-gradient(45deg, #ff8c00, #ff4500)',\r\n        },\r\n        '&:active': {\r\n            transform: 'translate(-50%, -50%)',\r\n        },\r\n    }));\r\n\r\n    const StyledPaginationItem = styled(PaginationItem)(({ theme }) => ({\r\n        '&.Mui-selected': {\r\n            background: 'linear-gradient(45deg, #1e90ff, #00ced1)',\r\n            color: '#fff',\r\n            fontWeight: 'bold',\r\n            animation: `${float} 2s infinite ease-in-out`,\r\n        },\r\n        '&:hover': {\r\n            backgroundColor: '#1e90ff',\r\n            color: '#fff',\r\n            transform: 'scale(1.15)',\r\n            boxShadow: '0 4px 12px rgba(0, 0, 0, 0.2)',\r\n        },\r\n    }));\r\n\r\n    const StyledCardMedia = styled(CardMedia)(({ theme }) => ({\r\n        height: 250,\r\n        objectFit: 'contain',\r\n        backgroundColor: '#f8fafc',\r\n        padding: '10px',\r\n        borderBottom: '1px solid #e0e7ff',\r\n        transition: 'transform 0.4s ease, opacity 0.3s ease',\r\n        [theme.breakpoints.down('sm')]: {\r\n            height: 200,\r\n        },\r\n        [theme.breakpoints.down('xs')]: {\r\n            height: 150,\r\n        },\r\n    }));\r\n\r\n    const StyledTypography = styled(Typography)({\r\n        transition: 'opacity 0.3s ease',\r\n    });\r\n\r\n    return (\r\n        <Box\r\n            sx={{\r\n                padding: { xs: 1, sm: 2, md: 3 },\r\n                backgroundColor: '#f5f5f5',\r\n                minHeight: '100vh',\r\n            }}\r\n        >\r\n            <Slide direction=\"up\" in={true} timeout={800}>\r\n                <Box\r\n                    sx={{\r\n                        display: 'grid',\r\n                        gridTemplateColumns: {\r\n                            xs: 'repeat(1, minmax(250px, 1fr))',\r\n                            sm: 'repeat(2, minmax(250px, 1fr))',\r\n                            md: `repeat(${isMenuOpen ? 3 : 4}, minmax(250px, 1fr))`,\r\n                        },\r\n                        gap: { xs: 1, sm: 2, md: 3 },\r\n                    }}\r\n                >\r\n                    {currentBooks.map((item, index) => {\r\n                        const isHovered = hoveredCard === item.masach;\r\n                        return (\r\n                            <Grow\r\n                                key={item.masach}\r\n                                in={true}\r\n                                timeout={500 + index * 150}\r\n                                style={{ transformOrigin: 'bottom center' }}\r\n                            >\r\n                                <StyledCard\r\n                                    onMouseEnter={() => setHoveredCard(item.masach)}\r\n                                    onMouseLeave={() => setHoveredCard(null)}\r\n                                >\r\n                                    <StyledCardMedia\r\n                                        component=\"img\"\r\n                                        image={item.img}\r\n                                        alt={item.tensach}\r\n                                        sx={{ opacity: isHovered ? 0.3 : 1 }}\r\n                                    />\r\n                                    <CardContent sx={{ flexGrow: 1, padding: { xs: 1, sm: 2 } }}>\r\n                                        <StyledTypography\r\n                                            variant=\"h6\"\r\n                                            component=\"div\"\r\n                                            gutterBottom\r\n                                            sx={{\r\n                                                fontWeight: 'bold',\r\n                                                color: '#1e90ff',\r\n                                                overflow: 'hidden',\r\n                                                textOverflow: 'ellipsis',\r\n                                                whiteSpace: 'nowrap',\r\n                                                fontSize: { xs: '1rem', sm: '1.25rem' },\r\n                                                opacity: isHovered ? 0.3 : 1,\r\n                                            }}\r\n                                        >\r\n                                            {item.tensach}\r\n                                        </StyledTypography>\r\n                                        <StyledTypography\r\n                                            variant=\"body2\"\r\n                                            color=\"text.secondary\"\r\n                                            sx={{\r\n                                                mb: 0.5,\r\n                                                fontSize: { xs: '0.75rem', sm: '0.875rem' },\r\n                                                opacity: isHovered ? 0.3 : 1,\r\n                                            }}\r\n                                        >\r\n                                            <strong>Mã Sách:</strong> {item.masach}\r\n                                        </StyledTypography>\r\n                                        <StyledTypography\r\n                                            variant=\"body2\"\r\n                                            color=\"text.secondary\"\r\n                                            sx={{\r\n                                                mb: 0.5,\r\n                                                fontSize: { xs: '0.75rem', sm: '0.875rem' },\r\n                                                opacity: isHovered ? 0.3 : 1,\r\n                                            }}\r\n                                        >\r\n                                            <strong>Tác Giả:</strong> {item.tacgia}\r\n                                        </StyledTypography>\r\n                                        <StyledTypography\r\n                                            variant=\"body2\"\r\n                                            color=\"text.secondary\"\r\n                                            sx={{\r\n                                                mb: 0.5,\r\n                                                fontSize: { xs: '0.75rem', sm: '0.875rem' },\r\n                                                opacity: isHovered ? 0.3 : 1,\r\n                                            }}\r\n                                        >\r\n                                            <strong>Nhà xuất bản:</strong> {item.nhaxuatban}\r\n                                        </StyledTypography>\r\n                                        <StyledTypography\r\n                                            variant=\"body2\"\r\n                                            color=\"text.secondary\"\r\n                                            sx={{\r\n                                                mb: 0.5,\r\n                                                fontSize: { xs: '0.75rem', sm: '0.875rem' },\r\n                                                opacity: isHovered ? 0.3 : 1,\r\n                                            }}\r\n                                        >\r\n                                            <strong>Tổng số sách:</strong> {item.Tongsoluong}\r\n                                        </StyledTypography>\r\n                                        {item.vitri && item.vitri.length > 0 && (\r\n                                            <StyledTypography\r\n                                                variant=\"body2\"\r\n                                                color=\"text.secondary\"\r\n                                                title={item.vitri\r\n                                                    .map((v) => `${v.mavitri} (${v.soluong - v.soluongmuon})`)\r\n                                                    .join(', ')}\r\n                                                sx={{\r\n                                                    mb: 0.5,\r\n                                                    overflow: 'hidden',\r\n                                                    textOverflow: 'ellipsis',\r\n                                                    whiteSpace: 'nowrap',\r\n                                                    fontSize: { xs: '0.75rem', sm: '0.875rem' },\r\n                                                    opacity: isHovered ? 0.3 : 1,\r\n                                                }}\r\n                                            >\r\n                                                <strong>Vị trí:</strong> {truncateLocation(item.vitri)}\r\n                                            </StyledTypography>\r\n                                        )}\r\n                                        <Box\r\n                                            mt={2}\r\n                                            display=\"flex\"\r\n                                            justifyContent=\"space-between\"\r\n                                            sx={{ flexDirection: { xs: 'column', sm: 'row' }, gap: 1 }}\r\n                                        >\r\n                                            <StyledButton\r\n                                                size=\"small\"\r\n                                                color=\"info\"\r\n                                                onClick={() => handleViewDetail(item.masach)}\r\n                                                sx={{ fontSize: { xs: '0.7rem', sm: '0.875rem' } }}\r\n                                            >\r\n                                                Xem Chi Tiết\r\n                                            </StyledButton>\r\n                                            <StyledButton\r\n                                                size=\"small\"\r\n                                                variant=\"contained\"\r\n                                                color=\"primary\"\r\n                                                onClick={() => handleShowRequest(item.masach, item.tensach, item.vitri)}\r\n                                                sx={{ fontSize: { xs: '0.7rem', sm: '0.875rem' } }}\r\n                                            >\r\n                                                Gửi Yêu Cầu\r\n                                            </StyledButton>\r\n                                        </Box>\r\n                                    </CardContent>\r\n                                    {isHovered && (\r\n                                        <Fade in={isHovered} timeout={300}>\r\n                                            <CartButton\r\n                                                onClick={() =>\r\n                                                    handleShowCart(item.masach, item.tensach, item.vitri)\r\n                                                }\r\n                                            >\r\n                                                <ShoppingCartIcon fontSize=\"large\" />\r\n                                            </CartButton>\r\n                                        </Fade>\r\n                                    )}\r\n                                </StyledCard>\r\n                            </Grow>\r\n                        );\r\n                    })}\r\n                </Box>\r\n            </Slide>\r\n\r\n            {totalPages > 1 && (\r\n                <Slide direction=\"up\" in={true} timeout={1200}>\r\n                    <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4, mb: 2 }}>\r\n                        <Pagination\r\n                            count={totalPages}\r\n                            page={currentPage}\r\n                            onChange={handlePageChange}\r\n                            color=\"primary\"\r\n                            showFirstButton\r\n                            showLastButton\r\n                            renderItem={(item) => <StyledPaginationItem {...item} />}\r\n                            sx={{\r\n                                '& .MuiPagination-ul': {\r\n                                    background: '#fff',\r\n                                    borderRadius: '12px',\r\n                                    padding: '8px',\r\n                                    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',\r\n                                },\r\n                            }}\r\n                        />\r\n                    </Box>\r\n                </Slide>\r\n            )}\r\n\r\n            <ModalRequestBook\r\n                show={showRequest}\r\n                setShow={setShowRequest}\r\n                masach={selectedMasach}\r\n                tensach={selectedTensach}\r\n                vitri={selectedVitri}\r\n            />\r\n\r\n            <ModalCart\r\n                show={showCart}\r\n                setShow={setShowCart}\r\n                masach={selectedMasach}\r\n                tensach={selectedTensach}\r\n                vitri={selectedVitri}\r\n                img={currentBooks.find((book) => book.masach === selectedMasach)?.img || ''}\r\n                onAddToCart={handleAddToCart}\r\n            />\r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default MainBooks;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}