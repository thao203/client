{"ast":null,"code":"import Button from'react-bootstrap/Button';import Modal from'react-bootstrap/Modal';import Form from'react-bootstrap/Form';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import request from'../../config/Connect';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ModalAddCategory(_ref){let{showModalAddCategory,setShowModalAddCategory,onAddSuccess}=_ref;const[madanhmuc,setMadanhmuc]=useState('');const[tendanhmuc,setTendanhmuc]=useState('');const handleClose=()=>{setShowModalAddCategory(false);setMadanhmuc('');setTendanhmuc('');};const toastOptions={position:\"top-right\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined};const handleAddCategory=async()=>{try{// Kiểm tra bắt buộc nhập đủ thông tin\nif(!madanhmuc||!tendanhmuc){toast.error('Vui lòng nhập đầy đủ mã danh mục và tên danh mục!',toastOptions);return;}// Kiểm tra mã danh mục không chứa dấu cách\nif(madanhmuc.includes(' ')){toast.error('Mã danh mục không được chứa dấu cách!',toastOptions);return;}const res=await request.post('/api/addCategory',{madanhmuc,tendanhmuc});toast.success(res.data.message||'Thêm danh mục thành công!',{...toastOptions,onClose:()=>{handleClose();onAddSuccess();// Gọi callback để refresh danh sách\n}});}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Có lỗi xảy ra khi thêm danh mục!',toastOptions);console.error('Error:',error);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Modal,{show:showModalAddCategory,onHide:handleClose,size:\"lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Modal.Title,{style:{fontSize:'1.5rem',fontWeight:'bold'},children:\"Th\\xEAm Danh M\\u1EE5c S\\xE1ch\"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"p-4\",children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Row,{className:\"g-3\",children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formMadanhmuc\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"M\\xE3 Danh M\\u1EE5c\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Nh\\u1EADp m\\xE3 danh m\\u1EE5c\",value:madanhmuc,onChange:e=>setMadanhmuc(e.target.value),className:\"shadow-sm\"})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"formTendanhmuc\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"T\\xEAn Danh M\\u1EE5c\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Nh\\u1EADp t\\xEAn danh m\\u1EE5c\",value:tendanhmuc,onChange:e=>setTendanhmuc(e.target.value),className:\"shadow-sm\"})]})})]})})}),/*#__PURE__*/_jsxs(Modal.Footer,{className:\"justify-content-between\",children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,className:\"px-4\",children:\"\\u0110\\xF3ng\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleAddCategory,className:\"px-4\",children:\"Th\\xEAm M\\u1EDBi\"})]})]}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default ModalAddCategory;","map":{"version":3,"names":["Button","Modal","Form","Row","Col","request","ToastContainer","toast","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ModalAddCategory","_ref","showModalAddCategory","setShowModalAddCategory","onAddSuccess","madanhmuc","setMadanhmuc","tendanhmuc","setTendanhmuc","handleClose","toastOptions","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","handleAddCategory","error","includes","res","post","success","data","message","onClose","_error$response","_error$response$data","response","console","children","show","onHide","size","Header","closeButton","className","Title","style","fontSize","fontWeight","Body","md","Group","controlId","Label","Control","type","placeholder","value","onChange","e","target","Footer","variant","onClick"],"sources":["E:/Documents/Hoc_Tap/LATN/client/src/Modal/Category/ModalAddCategory.js"],"sourcesContent":["import Button from 'react-bootstrap/Button';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport request from '../../config/Connect';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useState } from 'react';\r\n\r\nfunction ModalAddCategory({ showModalAddCategory, setShowModalAddCategory, onAddSuccess }) {\r\n    const [madanhmuc, setMadanhmuc] = useState('');\r\n    const [tendanhmuc, setTendanhmuc] = useState('');\r\n\r\n    const handleClose = () => {\r\n        setShowModalAddCategory(false);\r\n        setMadanhmuc('');\r\n        setTendanhmuc('');\r\n    };\r\n\r\n    const toastOptions = {\r\n        position: \"top-right\",\r\n        autoClose: 1000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n    };\r\n\r\n    const handleAddCategory = async () => {\r\n        try {\r\n            // Kiểm tra bắt buộc nhập đủ thông tin\r\n            if (!madanhmuc || !tendanhmuc) {\r\n                toast.error('Vui lòng nhập đầy đủ mã danh mục và tên danh mục!', toastOptions);\r\n                return;\r\n            }\r\n\r\n            // Kiểm tra mã danh mục không chứa dấu cách\r\n            if (madanhmuc.includes(' ')) {\r\n                toast.error('Mã danh mục không được chứa dấu cách!', toastOptions);\r\n                return;\r\n            }\r\n\r\n            const res = await request.post('/api/addCategory', {\r\n                madanhmuc,\r\n                tendanhmuc,\r\n            });\r\n\r\n            toast.success(res.data.message || 'Thêm danh mục thành công!', {\r\n                ...toastOptions,\r\n                onClose: () => {\r\n                    handleClose();\r\n                    onAddSuccess(); // Gọi callback để refresh danh sách\r\n                },\r\n            });\r\n        } catch (error) {\r\n            toast.error(error.response?.data?.message || 'Có lỗi xảy ra khi thêm danh mục!', toastOptions);\r\n            console.error('Error:', error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Modal show={showModalAddCategory} onHide={handleClose} size=\"lg\">\r\n                <Modal.Header closeButton className=\"justify-content-center\">\r\n                    <Modal.Title style={{ fontSize: '1.5rem', fontWeight: 'bold' }}>\r\n                        Thêm Danh Mục Sách\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body className=\"p-4\">\r\n                    <Form>\r\n                        <Row className=\"g-3\">\r\n                            <Col md={6}>\r\n                                <Form.Group controlId=\"formMadanhmuc\">\r\n                                    <Form.Label>Mã Danh Mục</Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        placeholder=\"Nhập mã danh mục\"\r\n                                        value={madanhmuc}\r\n                                        onChange={(e) => setMadanhmuc(e.target.value)}\r\n                                        className=\"shadow-sm\"\r\n                                    />\r\n                                </Form.Group>\r\n                            </Col>\r\n                            <Col md={6}>\r\n                                <Form.Group controlId=\"formTendanhmuc\">\r\n                                    <Form.Label>Tên Danh Mục</Form.Label>\r\n                                    <Form.Control\r\n                                        type=\"text\"\r\n                                        placeholder=\"Nhập tên danh mục\"\r\n                                        value={tendanhmuc}\r\n                                        onChange={(e) => setTendanhmuc(e.target.value)}\r\n                                        className=\"shadow-sm\"\r\n                                    />\r\n                                </Form.Group>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer className=\"justify-content-between\">\r\n                    <Button variant=\"secondary\" onClick={handleClose} className=\"px-4\">\r\n                        Đóng\r\n                    </Button>\r\n                    <Button variant=\"primary\" onClick={handleAddCategory} className=\"px-4\">\r\n                        Thêm Mới\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n            <ToastContainer />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ModalAddCategory;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}