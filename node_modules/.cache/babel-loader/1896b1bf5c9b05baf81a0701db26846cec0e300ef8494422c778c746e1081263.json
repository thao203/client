{"ast":null,"code":"import React from'react';import ReactDOM from'react-dom/client';import reportWebVitals from'./reportWebVitals';import{BrowserRouter,Routes,Route}from'react-router-dom';import App from'./App';import{jwtDecode}from'jwt-decode';import{privateRoutes,privateRoutes1,publicRoutes}from'./route';import favicon from'../src/asset/img/logo_tab.jpg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";document.querySelector(\"link[rel~='icon']\").href=favicon;const getToken=()=>{const tokenCookie=document.cookie.split('; ').find(row=>row.startsWith('token='));return tokenCookie?tokenCookie.split('=')[1]:null;};const root=ReactDOM.createRoot(document.getElementById('root'));root.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[publicRoutes.map(route=>/*#__PURE__*/_jsx(Route,{path:route.path,element:route.element},route.path)),privateRoutes.map(route=>{const token=getToken();try{const decoded=token?jwtDecode(token):null;return decoded!==null&&decoded!==void 0&&decoded.isAdmin?/*#__PURE__*/// Khớp với thuộc tính của Header\n_jsx(Route,{path:route.path,element:route.element},route.path):/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(App,{})},\"default\");}catch(error){return/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(App,{})},\"default\");}}),privateRoutes1.map(route=>{const token=getToken();return token?/*#__PURE__*/_jsx(Route,{path:route.path,element:route.element},route.path):/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(App,{})},\"default\");})]})})}));reportWebVitals();","map":{"version":3,"names":["React","ReactDOM","reportWebVitals","BrowserRouter","Routes","Route","App","jwtDecode","privateRoutes","privateRoutes1","publicRoutes","favicon","jsx","_jsx","jsxs","_jsxs","document","querySelector","href","getToken","tokenCookie","cookie","split","find","row","startsWith","root","createRoot","getElementById","render","StrictMode","children","map","route","path","element","token","decoded","isAdmin","error"],"sources":["E:/Documents/Hoc_Tap/LATN/client/src/index.js"],"sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\r\nimport App from './App';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport { privateRoutes, privateRoutes1, publicRoutes } from './route';\r\nimport favicon from '../src/asset/img/logo_tab.jpg';\r\ndocument.querySelector(\"link[rel~='icon']\").href = favicon;\r\n\r\nconst getToken = () => {\r\n    const tokenCookie = document.cookie.split('; ').find(row => row.startsWith('token='));\r\n    return tokenCookie ? tokenCookie.split('=')[1] : null;\r\n};\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n    <React.StrictMode>\r\n        <BrowserRouter>\r\n            <Routes>\r\n                {publicRoutes.map((route) => (\r\n                    <Route key={route.path} path={route.path} element={route.element} />\r\n                ))}\r\n                {privateRoutes.map((route) => {\r\n                    const token = getToken();\r\n                    try {\r\n                        const decoded = token ? jwtDecode(token) : null;\r\n                        return decoded?.isAdmin ? (  // Khớp với thuộc tính của Header\r\n                            <Route key={route.path} path={route.path} element={route.element} />\r\n                        ) : (\r\n                            <Route key=\"default\" path=\"/\" element={<App />} />\r\n                        );\r\n                    } catch (error) {\r\n                        return <Route key=\"default\" path=\"/\" element={<App />} />;\r\n                    }\r\n                })}\r\n                {privateRoutes1.map((route) => {\r\n                    const token = getToken();\r\n                    return token ? (\r\n                        <Route key={route.path} path={route.path} element={route.element} />\r\n                    ) : (\r\n                        <Route key=\"default\" path=\"/\" element={<App />} />\r\n                    );\r\n                })}\r\n            </Routes>\r\n        </BrowserRouter>\r\n    </React.StrictMode>\r\n);\r\n\r\nreportWebVitals();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}